<link rel="import" href="/sys/polymer/polymer.html">
<link rel="import" href="/sys/palindrom-redirect/palindrom-redirect.html">
<link rel="stylesheet" href="/screens/css/mainapp.css" />

<template>
    <dom-bind>
        <template is="dom-bind">
            <div class="mainAppPage">
                <div>
                    <!-- Error MessageBox -->
                    <starcounter-include view-model="{{model.ErrorMessage}}"></starcounter-include>
                    <!-- MessageBox -->
                    <starcounter-include view-model="{{model.MessageBox}}"></starcounter-include>
                </div>

                <template is="dom-if" if="{{!model.HideMenu}}">
                    <div class="appMenu">
                        <ul>
                            <starcounter-include style="height:100%" view-model="{{model.Menu}}"></starcounter-include>
                        </ul>
                    </div>
                </template>

                <div class="appContent">
                    <starcounter-include view-model="{{model.Content}}"></starcounter-include>
                </div>
            </div>

            <palindrom-redirect is="palindrom-redirect" history url="{{model.MorphUrl$}}"></palindrom-redirect>
        </template>
    </dom-bind>
    <script>

        var head = document.getElementsByTagName('head')[0];
        var manifestLink = document.createElement('link');
        manifestLink.rel = "manifest";
        manifestLink.href = "/screens/manifest.json";
        head.appendChild(manifestLink);

                    //var iosFullScreen = document.createElement('meta');
                    //iosFullScreen.name = "apple-mobile-web-app-capable";
                    //iosFullScreen.content = "yes";
                    //head.appendChild(iosFullScreen);

                    //var iosIcon = document.createElement('link');
                    //iosIcon.rel = "apple-touch-icon";
                    //iosIcon.href = "/screens/screens.png";
                    //head.appendChild(iosIcon);

                    //var iosStatusBar = document.createElement('meta');
                    //iosStatusBar.name = "apple-mobile-web-app-status-bar-style";
                    //iosStatusBar.content = "black-translucent";
                    //head.appendChild(iosStatusBar);

                    //<meta name="apple-mobile-web-app-capable" content="yes">
                    //<link rel="apple-touch-icon" href="screens.png">
                    //<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    </script>

</template>